<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>zora signer</title>
    <script type="module" src="app.ts"></script>
    <link rel="stylesheet" href="./app.css" />
    <style>
      input,
      textarea,
      label {
        display: block;
      }
    </style>
  </head>
  <body>
    <main class="container">
      <form id="sign">
        <h2>smol-safe //</h2>
        <div style="position: absolute; top: -20px; left: -10px">
          <a target="_blank" href="https://github.com/ourzora/smol-safe"
            ><zora-zorb
              address="0xf7b2c2eb58a5f801119df7e9bf9f9b66c62bb011"
              size="65"
            ></zora-zorb
          ></a>
        </div>
        <section>
          <div>
            <strong>Connected to chainid:</strong>
            <span id="network-id">none</span>
          </div>
          <div><strong>Account: </strong> <span id="user-account"></span></div>
          <div style="flex: 1" id="connect-section">
            <div>Connect Metamask/Injected Wallet</div>
            <button id="connect">Connect</button>
          </div>
        </section>

        <details>
          <summary class="have-safe" role="button">I have a safe</summary>

          <div>
            <section style="margin-top: 14px">
              <h4>Load existing safe:</h4>
              <label>
                SAFE ADDRESS:
                <input type="text" name="safeAddress" />
              </label>
              <button id="safe-info">Get Safe Info</button>
              <pre id="safe-result"></pre>
            </section>
            <section>
              <div>
                <strong>OPERATION:</strong>
                <label
                  ><input
                    type="radio"
                    style="display: inline-block"
                    name="operation"
                    value="sign"
                  />
                  SIGN
                  <small style="margin-top: 4px"
                    >Sign (but do not execute) on-chain transaction</small
                  >
                </label>
                <label
                  ><input
                    type="radio"
                    style="display: inline-block"
                    name="operation"
                    value="execute"
                  />
                  SIGN & EXECUTE
                  <small style="margin-top: 4px"
                    >Only use when all other signers have signed.</small
                  ></label
                >
              </div>
              <fieldset>
                <legend>operations 1:</legend>
                <label>
                  Transaction to / recipient address:
                  <input name="operations[0].to" />
                </label>
                <label>
                  Ethereum (or native token) value to send (in ether, such as
                  0.1):
                  <input name="operations[0].value" />
                </label>
                <label>
                  Data to send in the transaction (blank for none or
                  hex-encoded):
                  <input name="operations[0].data" />
                </label>
                <label id="txn-approvals"></label>
                <input type="submit" value="Send safe transaction request" />
                <button class="share-txn">Share txn link</button>
              </fieldset>
              <button>Add operation</button>
            </section>
          </div>
        </details>
      </form>

      <details>
        <summary role="button">I am creating a safe</summary>
        <form id="create">
          <h4>create a SAFE on the current network</h4>
          <label>
            Safe Users: (one per line)
            <textarea rows="4" name="signers"></textarea>
          </label>
          <label>
            Safe Threshold:
            <input name="threshold" type="number" min="1" step="1" />
          </label>
          <input type="submit" />
        </form>
      </details>

      <ul id="log"></ul>
    </main>
  </body>
</html>
